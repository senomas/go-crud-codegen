-- FILE-2db0326db4c0e6f669fd9a1253dd2e3: migrations/{{printf "%04d" .Seq}}-{{snakeCase .ID}}.sql
-- Code generated by apigen. DO NOT EDIT.
-- GENERATED: {{now}}

{{ define "SqlTypeRef" -}}
  {{- if eq .Type "autoincrement" }}
    {{- "INTEGER" -}}
  {{- else if or (eq .Type "text" "password" "secret") }}
    {{- "VARCHAR(254)"}}
  {{- else if or (eq .Type "int" "version") }}
    {{- "INTEGER"}}
  {{- else if eq .Type "timestamp" }}
    {{- "TIMESTAMP"}}
  {{- else }}
    {{- .Type}}
  {{- end}}
{{- end -}}

{{ define "SqlType" -}}
  {{- if eq .Type "autoincrement" }}
    {{- "INTEGER GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) PRIMARY KEY" -}}
  {{- else }}
    {{- template "SqlTypeRef" .}}
  {{- end}}
{{- end -}}

{{ template "CreateTable" . }}

-- FILE-2db0326db4c0e6f669fd9a1253dd2e3: migrations/{{printf "%04d" .Seq}}-{{snakeCase .ID}}.drop.sql
-- Code generated by apigen. DO NOT EDIT.
-- GENERATED: {{now}}

{{ template "DropTable" . -}}

{{ range .Fields -}}
  {{- if eq .Type "many-to-many" }}
-- FILE-2db0326db4c0e6f669fd9a1253dd2e3: migrations/{{printf "%04d" .Seq}}-{{snakeCase .Model.ID}}-{{snakeCase .ID}}.sql
-- Code generated by apigen. DO NOT EDIT.
-- GENERATED: {{now}}

{{ template "CreateTable.Map" . }}

-- FILE-2db0326db4c0e6f669fd9a1253dd2e3: migrations/{{printf "%04d" .Seq}}-{{snakeCase .Model.ID}}-{{snakeCase .ID}}.drop.sql
-- Code generated by apigen. DO NOT EDIT.
-- GENERATED: {{now}}

{{ template "DropTable.Map" . }}

  {{- end}}
{{- end}}
